# CS32 - Chiness clones of STM32F103

Here are some notes on how to deal with these MCUs. If you got such a chip then I suppose you have baught BluePill on Aliexpress where some unfair sellers don't claim clearly enougth that the boards are based on a clone of STM32 MCUs.

You can debug these chips with OpenOCD. To do it you have to change idcode of the device in OpenOCD configuration. Original STM32F103 chip has `0x1ba01477`, but CS32 has `0x2ba01477`. So the simplest way is to find config file `stm32f1x.cfg` and relpace this idcode. Or create a new config for that case and replace a value. Also you should set reset mode to Software system reset.

stlink gdbserver that is shipped with TrueStudio or STMCubeIDE doesn't work with these chips. When it tries to connect, it outputs an error stating that it can not verify the device. I suppose the problem is the same as with OpenOCD because of another idcode and maybe vendor. I think it is possible to make it work by modifying stlink utility [sources](https://github.com/stlink-org/stlink) and rebuilding it.
